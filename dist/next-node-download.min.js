/*!
 * name: next-node-download
 * url: https://github.com/afeiship/next-node-download
 * version: 1.0.0
 * date: 2019-08-23T05:54:28.689Z
 * license: MIT
 */
!function(){var e=e||this||window||Function("return this")(),n=e.nx||require("next-js-core2"),o=require("node-fetch"),r=require("fs"),i={};n.nodeDownload=function(e){var t=n.mix(null,i,e),u=t.filename,d=t.url;return new Promise(function(e,n){return o(d,t).then(function(o){var i=r.createWriteStream(u);o.body.pipe(i),o.body.on("error",function(e){i.close(),n({code:1})}),i.on("finish",function(){i.close(),e({code:0})})})})},"undefined"!=typeof module&&module.exports&&(module.exports=n.nodeDownload)}();